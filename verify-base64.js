// Verify the base64 string
const base64String = `ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJpdGh1bWJhLW1h
dGVyaWFscyIsDQogICJwcml2YXRlX2tleV9pZCI6ICI0OWRiNjYwOGE5N2Q0MmZmNWVhYjIxMTdhMjcz
ZWIxM2FiZDBkNzUzIiwNCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0t
LVxuTUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFEakFxdjBN
eTdGR1gxd1xuWGdwVnVKcW9NRFREZUVaVnZJak5VM0xTNXlEZDZYTURDUXJuMm1jYlUwQitscDFnWVRt
dUo4OWlMR0p0QTdWUVxucjZVRTZBWlppZnpaK2ZDL1dvRjV1bjVJMTlGcFBydXFrUUVtTzN5b3JBTGxq
UFhZbEJnSW5ZQXQ5eUdyMDJZYVxuZlpKam5JSkdZd1pWTHdlNUN3QUt4b0VHNC9LbFdwUFR5WGpjVHhq
bVpFN0ZUdlJIR08rUG1DRG1ZRkMveGducVxuWXdPV1lveDBJbHZQVi9sRnJHN2hqN3l1b3lhbUxQM0o5
TStHUjMzRlBUQnhlY0J2Y1o3NVpFYVJqOGFLUjQwOVxuTUZJWEhaRW1qZittVWYybmdvWkRIcUwzNS8z
OGhMdmxUVEpzYmNoazJOWEtOQml2SzVWcWpRL0NDV3VkU1lBT1xudXozQVFWbVpBZ01CQUFFQ2dnRUFH
U3VLS2xUa2Vpa2wzZWduYURMRVB5SzlMdkV1aDBJVXZ3TmlKMTFHS1NUQlxud2xQbDJDaEFwMmgzTGJJ
QWVCZS9uLzQ5QWNzZkRLeE5GY21yMTl2c0hGQnU3ekpGemNtNHNta0pxSVQ1Ykp4dVxualc1dmZMQTYx
YTdnMFZmc1NGdS9RSEZLTFk2SnRyWUZTNm1ocWhiSDRRc0l3RGdyT0lxdU1nT3BlYnliZ2xiUFxudG01
eFpydXI4Y2NyYmgrd3NtZUJod2VmalV1MVYra1R3eksrdXMvN0w0eUpXRk53TG5pK0hiRzlhUTkvR0lz
dFxuN3FXZGNpb21KRXlTYU1UbmZ3TjdibVZIL2Y1YlBWMVFuRVNOMjNaZGpJV2pidkNkNStKMkxpYk40
STdHM1J0M1xuWjFZYTVpd0ZjaGhnYzZKN3BKVUdzMlhRa3BaMFNPMG1PUE13Szh2SGV3S0JnUUQxbXg3
Vkw0QVFVQWx0d2lXQlxuNnJyakRtTWFlMGhNV1pQUnpBcjVMMm55QWd6cGhyYjd6YjdZdzNxR2hyaHFv
ODEzMGUwV0JYQ0hpcnVKejdYNVxuLzROR3g2cGZGZndNbG9Ca2JHenFYd09QSW5IVmUrbXV5ZmlTL2VP
Y1ZTelpFcG94MFd3NEtxSVNIOXVTUUk3NlxuaVhlSHYzWW40Y09UYk5uOWJrZVNQRXlXOHdLQmdRRHNu
aGEydW5VMVBrc05vMzE2RzYxNlI5amNMaUx2QXFOMVxuNG9wYUVyNzNnVXVkMVVINVhnbGN2MVllazR4
aDdLQmRnMTBqQ3dKUndpS1RNTURBN1RYVUZkNkhxaU9aSUtqR1xuT0pBdEUvVFc4MzROcE9JanNOWWlH
dDNwWFVCd3R5eFFUcC96dGtsL1JXYVZMdVQyY01wY21xdnlzZlk2a3RwMlxudTZ1WDlwaklRd0tCZ0VD
ckgyc3lucDJzOVU2WkdCY2xIeUE1NFk1UGQ3SGl4REV4Y0pJOEVjRlBHT2RFT1ZvRFxueW9SNHRBSkg1
cmJ0ZW1SYU9mcmFZODdNa0tTd3RGR25IWUc5Z1BhWWEwMUZNM2s5czAvaXhLVWpoS1daZ3VZcVxuOS9C
OE9Ub29reTUwMzNUT2w1Z1NZYW8wQ1RSeEd6U01qWlNJclN2REhpUHJQVnFsZHVMaVRhaFJBb0dBS1gr
WVxuY0RmSGNxMFlNSzRweFk2eElDOFZvNWdiM0Z0VUc4cTloUXFnbjN2M3JSakgxMXBjdmYxNHR5Z2Rp
TmNkVVFsR1xuL214aDNjRDBtMmdEaGxLVUREeEJxUDEzL05VemhJQkxHUHpWQmhYeVY2WkJXdzBhb1NT
aEl0cU9BTGEvZU40eFxuUTJjSEFPRkZHb2o4OHhQWkNlQytvM1Ard1VzY01aSzhoNHhpUTAwQ2dZRUFy
TitQdHF4dytHckFEQTliOWlxRVxuQ05ZSVp5K2s1VHM4dEkrRHZhNGwzai9sQ1FyMW1jYVRjTmlWN2la
ajI4cEhnWUZSQVpUVE1lSjhxREo2Y1V6SFxuMEw3N2VSZDFVek9BS2tJSUNkVWw3c0hjMyt5ZXk1eURC
a3FWQUFlRHZIZ0JsNzVMZGNscmxTMWdjVS9pS1haVlxueEFSRmo2QjdrcnA1cFNlMzIzeHZxNkk9XG4t
LS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLA0KICAiY2xpZW50X2VtYWlsIjogImZpcmViYXNlLWFk
bWluc2RrLWZic3ZjQGl0aHVtYmEtbWF0ZXJpYWxzLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwNCiAg
ImNsaWVudF9pZCI6ICIxMTQ5MTg5NDE2NTM1MDUyNjI1ODMiLA0KICAiYXV0aF91cmkiOiAiaHR0cHM6
Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLA0KICAidG9rZW5fdXJpIjogImh0dHBz
Oi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwNCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0
X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLA0KICAiY2xp
ZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0
YWRhdGEveDUwOS9maXJlYmFzZS1hZG1pbnNkay1mYnN2YyU0MGl0aHVtYmEtbWF0ZXJpYWxzLmlhbS5n
c2VydmljZWFjY291bnQuY29tIiwNCiAgInVuaXZlcnNlX2RvbWFpbiI6ICJnb29nbGVhcGlzLmNvbSIN
Cn0NCg==`;

const cleanBase64 = base64String.replace(/\s/g, ''); // Remove newlines

console.log("Verifying Base64 Firebase Key...\n");
console.log("Length:", cleanBase64.length);

try {
    const decoded = Buffer.from(cleanBase64, 'base64').toString('utf8');
    const serviceAccount = JSON.parse(decoded);
    
    console.log("‚úÖ Base64 decodes successfully!");
    console.log("‚úÖ Valid JSON!");
    console.log("Project ID:", serviceAccount.project_id);
    console.log("Type:", serviceAccount.type);
    console.log("Client Email:", serviceAccount.client_email);
    console.log("\nüéâ The base64 string is CORRECT!");
    console.log("\nNow paste this into Render:");
    console.log("Environment Variable Name: FIREBASE_KEY_BASE64");
    console.log("Environment Variable Value:");
    console.log(cleanBase64);
} catch (error) {
    console.error("‚ùå Error:", error.message);
}
